cracking open secure messages would beeasy if only you knew how to factor hugenumbers in this episode we'll show youhow with the twist one of the mainmethods of cryptography the encoding anddecoding secure communication usesreally big prime numbers for a detaileddescription check out some of the greatvideos we've linked to in thedescription but for now here's thedistilled version it's pretty easy for acomputer to find big prime numbers andmultiply them together but it's reallyhard for a computer to do the oppositefind the prime factors of a really bignumber the prime factors of a number areall the prime numbers that evenlydividednormally RSA cryptography uses theseprime factors like keys to decryptmessages so if you want to eavesdropyou'll need to find one of these keys tohack in that is you'll need to find theprime factors of a big number and we'retalking really big as in hundreds ofdigits long let's try a small examplewhat are the prime factors of 35 wellthey're five and seven how did youfigure that out probably just by lookingat it but even if you had forgotten thatfact you could have just checked all theprime numbers smaller than 35 does todivide it know does 3 know does 5 yesand so on help boring and moreimportantly for a computer howtime-consuming will need to do somethingmore strategic to factor really bignumbers enter one of the great mathheroes Euler along with many many otherthingsoiler thought a lot about prime numbersrelatively prime numbers and modulararithmetic which is basically all themath underlying RSA cryptography so itmakes sense that we'd use similar mathtoobreak the algorithm modular arithmeticis what happens when you count in acircle counting modulo 5 or mod 5 4short goes 0 1 2 3 4 0 1 2 3 4 0 1 2 andso on we just use the numbers less than5 on repeat we tell time mod 12 or mod24 depending on your convention thiscyclical counting extends to thearithmetic operations so 1 plus 2 mod 5is still just 3 but 2 plus 3 mod 5 is 0and 2 times 3 is 1 mod 5 another way tothink about modular arithmetic is interms of the remainder when dividingnumbers so here's a slightly more formaldefinition a is congruent to X mod nmeans that when we divide a by n theremainder is X so 2 times 3 is 6 butwhen we divide 6 by 5 the remainder is 1so 2 times 3 mod 5 is 1 oiler noticesomething about modular arithmetic andexponentiation let's look at the powersof 3 3 9 27 81 243 and so on and let'slook at them all mod 10 it's easy tofigure out what things are mod 10because it's just the remainder when youdivide by 10 which is the ones digit somod 10 our sequence is 3 9 7 1 3 9 7 1and so onlet's repeat the same experiment butinstead of looking at the powers of 3mod 10 let's look at the powers of 2 mod7 the powers of 2 are 2 4 8 16 32 64 andso on and mod 7 we get two for one twofor one and so on what do you observethe sequence of powers just gets biggerand bigger but the modular versions ofthe sequence cycle they repeat the samepattern over and over againand the last digit of that pattern isalways one as long as X and n arerelatively prime meaning they share noprime factors the sequence X mod NXsquared mod n X cubed mod n X to thefourth mod n and so onwill always have this property we callthe length of the repeating pattern theperiod so the period of three mod 10 is4 and the period of 2 mod 7 is 3here's why the period is important ifthe period of X mod n is some number Rthen R is the smallest number such thatX to the R is congruent to 1 mod n forexample 3 to the fourth is congruent to1 mod 10 but 3 to the first 3 squaredand 3 cubed are not 1 mod 10 but let'sget back to our original goal what doesall this stuff about modular arithmeticexponentiation and periods have to dowith factoring large numbers let's say Igive you a number n I tell you n equalsP times Q for two prime numbers P and Qbut I don't tell you anything aboutthose Prime's your job is to find themhere's how you'll do it step 1pick any number smaller than n let'scall the number e selected a check tomake sure that a and n are relativelyprime by computing the greatest commondivisor of a and n the greatest commondivisor of two numbers is the biggestinteger that divides them both so it's 1if the two numbers are relatively primethe Euclidean algorithm is a quick andstandard way to find the GCD of twonumbers if they have a divisor in commonthat's a factor of n which is whatyou've been looking for and you've savedyourself the rest of the steps step tocompute the period of a mod n let's callit on for the sake of example let's sayyou're trying to find the factors of 35so N equals 35 and you pick a equals 8since it's relatively prime to 35then with a little computation we cansee that R equals four to make all thearithmetic work out we're going to needto divide R by two so we need to knowthat R is even later on we'll also needto know that a to the R over two plusone is not congruent to 0 mod n ifeither of these things fail we need topick a different a in step one luckilythere's at least a 50% chance you'llpick a good value for a so on averageyou won't have to try too many times forstep three we'll have to do some algebralet's start with the fact we know a tothe R is congruent to 1 mod n whichsubtracting 1 gives the a to the R minus1 is congruent to 0 mod n saying thatsomething is 0 mod n is the same assaying that it's a multiple of n sothere must exist some integer K suchthat a to the R minus 1 equals K times nsince we assumed our is an even numberwe can rewrite it as a to the R over 2minus 1 times a to the R over 2 plus 1equals K N and since n equals PQ we'llreplace it with ki Q ok that was kind ofa lot of algebra I often find it easierto work through computations like thaton my own instead of watching someoneelse do it you're welcome to pause hereand check the steps here's what happenswith the example where we are trying tofind the factor with 35 since the periodof 8 mod 35 is 4 we have 8 to the fourthis congruent to 1 mod 35 so 8 to thefourth minus 1 is congruent to 0 mod 35actually 8 to the fourth minus 1 is 4095but we only care about its value mod 35we could rewrite this as 8 to the 4thminus 1 equals K times 35 for someinteger K again we could solve for K inthis case but it's irrelevant so I'llleave it as a variable rewrite this as 8squared minus 1 times 8 squared plus 1equals K times P times Q where P and Qare the prime factors of 35 that we'researching for step four is the grandfinale I claim that the greatest commondivisor of a to the R over 2 minus 1 andn is one of the prime factors let's callit P and the greatest common divisor ofa to the R over 2 plus 1 and n is theother prime factor let's call it Q whythe equation a to the R over 2 minus 1times a to the R over 2 plus 1 equals KP Q means that P must divide one of thefactors on the list and Q must divideone of the factors on the left but theycannot divide the same factor since thatfactor would be divisible by n why isneither factor divisible by n for one weassumed a to the R over 2 plus 1 is notcongruent to 0 mod n for the other weknow R is the minimum value of X suchthat a to the X is congruent to 1 mod nso a to the R over 2 minus 1 is notcongruent to 0 mod n since P and Qdivides separate factors on the leftside of the equation we can assume Pdivides a to the R over 2 minus 1 and Qdivides a to the R over 2 plus 1 so ourformulas work again that part containssome weird algebra arguments go aheadand pause to think about it or re-watchit so in our example P is the greatestcommon divisor of 63 and 35 which is 7and Q is the greatest common divisor of65 and 35 which is 5 which fortunatelyis correctin summary here's our steps steppick a lesson and step to find is aperiod of a mod n step 3 well we don'tneed to do all of the algebra of step 3every time since we know it works soinstead we'll use step 3 to check thatour is even and a to the R over 2 plus 1is not congruent to 0 mod n if either ofthese things fail we need to go back tostep 1 and pick a new value of a finallystep 4 let P equal the GCD of a to the Rover 2 minus 1 and N and let Q equal theGCD of a to the R over 2 plus 1 and Nand you're doneyou've destroyed information security okbut obviously there's a catchsince RSA cryptography still works hereit is step to finding the period takes along time in fact an exponentially longtime that might make it seem like wehaven't done a lot by constructing these4 steps but actually we did all thesteps besides 2 are pretty fast insteadof looking for a needle in a haystack wereduced the hard part to 1 step findingthe period and here's the big twistperiod finding is precisely the kind ofthing of quantum computer is good at andon the next episode we're going to diveinto that the four steps we justreviewed are the outline of Shor'salgorithm and next time we'll finish upby learning how to use a quantumcomputer to dramatically speed up step 2then RSA cryptography and your bankstatements will really be in troublesee you next time on infinite serieshello I want to address some of thecomments on our episode about exchangingthe digits of E and PI firstJoel David Haskins one of themathematicians whose work is featured inthe original episode asked a follow-upquestionyes what if we do not insist that thedigits being swapped come from the samedigit place so you can swap the digitfrom anywhere in he with a digit fromanywhere in hi well in this case you canmake a rational number can you provethat in a blog post which is linked toin the huh all right lots and lots offolks asked about combining the digitsat E and PI algebraically instead ofliterally swapping your digits so canyou add subtract multiply divide thenumber E and the number pi to get arational number there's a couple coolfamous examples like e to the PI I plus1 is equal to 0that's Euler's identity and there's somereally silly examples like e times pidivided by e times pi is equal to 1 butthere's also a lot of things we don'tknow about when you multiply by me andTy whether you get rational andirrational numbers some of my favoriteexamples are these funny almost integersso for example PI to the ninth dividedby P to the eighth really really reallyclose to 10 but it's not it's not that Ipretend it just kind of look like thatif you do the computation out by handalso e to the 6 minus PI to the 5thPrince PI to the fourth is really closeto zero but it's not zero it just kindof looks like it finally Gretel's wonthe challenge t-shirts for a verycomplete answer to the question ifof time differently many digital why isthe list of numbers produced by swappinginfinitely many of their digitaluncountably long your dancer for eachdigit that's different to Ian hiwho can either swap it for ducktherefore we can label and givenpermutations by listing whether or notwe swap each digit if we use zerosrepresent three methods and one torepresent swapping the digit then eachone of these corresponds to a listappears and one nowthey mentioned two proofs that this listof bureaus and one is uncountable thefirst is that it's been by objectionwith the interval 0 1 written in binaryand the second is that you can useCantor's value elevation argumentsdirectly on it great answer there werealso a lot of other great answers waytoo many for me to acknowledge so thanksguysthey were fantastic see you next week