so the first thing we're going to do iswe're gonna draw some graph so I don'tcare what it looks like let's try itput a few vertices here and some edgesconnect it up nicely okay so there's agraph and now I'm gonna give each vertexof my graph a number and again you canjust choose this randomly and it caneven be a negative number okay so let'ssay I've got negative two here I don'tknow what do you want here right threeand oneand how about minus one and I don't knowanother two so here's the rules of thegame the goal is to make sure that noneof the vertices have negative numbersanymore okay so you can think of thisthis one name for this game is $1 gamewhich is that you can imagine this asfive people and they have this amount ofmoney some of them are in debt some ofthem are not and the moves that you canmake in the game are that either aperson can donate money meaning for eachvertex that they're connected to theycan give a dollar or a person can takemoney meaning for each vertex thatthey're connected to they can take adollar and the goal of the game is tomake sure that everyone's out of debtand no peeking or choosing if you giveor take you have to give or take fromeveryone you're connected to that'sright that's rightso let's take a look at this examplethat we've drawn here and see if we canwin this game so what do you think weshould do well I think three person hasto give good ok so let's do that let medo a different color so we don't getconfused okay so if 3 goes that means 3goes down to 0 mmm2 goes up to 3 1 goes up to 2 but here'ssomething good which is that this is nownegative 1 instead of negative 2 whichis better for getting everyone out ofdebt now what should we do that threeneeds should give a cross written yeahwe've got all these extra money overhere and so why don't we move some of itdo you want to move all of it we couldjust do three consecutive moves movingmoney over yeah yeah that's right it'sok to be on there you just don't wantany debt so let's do three moves eachtime we'll donate $1 from this vertex toit's only connected guy okgreat so now we have two problemvertices left these two minus ones sowhat should we try why don't weconsolidate oh let's try it so you wantto donate oh sorry you went the otherwaywell if this donates usually you have togive two there oh you're donating theother way oh sorry I see what you'resaying this no let's do what you said sothis thing donates to everyone so itgoes from being minus one to being minusfour right yeah okaynow this person can give to their goodgood yeah let's get rid of his threeokay so five can give goes down to twoone two minus two and then I guess everytime we have something here we shouldmove it back right yeah I go zero andthree and now to up here yeah do anothergood good zero minus one for oh it lookspretty good that's right okay so one oneand zero okay oh and I went up here okayso we went right after much muchdifficulty we've got zero and one zeroone and one is we have demonstrated verywell here it's not obvious if we tookthe optimal strategy to win this gameit's possible that we could have donefewer moves and so one question youcould ask is if you hand me a game likethis if you draw the graph and youassign the numbers how few moves can youwin the game in but before you even askthat question you might wonder when isit possible to win this game right likeif we had started with all negativenumbers then obviously it's impossiblebecause no matter what we try it's notgoing to finish the problem or even youcan think about if we had started withnumbers that have the property that theydon't add up to something non-negativeright like if the sum of all of thenumbers was negative there has to beenough money on the board to geteveryone out of debt exactly so thereare obviously some constraints for whenyou can win this gameso let's do a slightly simpler versionso let's say we just have two verticesand we'll connect them by an edge now myquestion is what kind of money can I putinto this game to make it possible towin so for example if I have -2 herelet's say what numbers will work overhere to make it a winnable game and theanswer as well as long as I have 2 overhere then I can win so in this game sothe only thing we need to win is to haveenough money in other words we've got tohave a non-negative sum in the bank onthe board okay so let's do somethingsimilar here now with 3 vertices and nowit's not so obvious exactly if this isstill true right I mean so let's say Ihave something negative over here andmaybe I don't know negative over hereagain I want to have enough money on theboard so I've got to have at least 3here let's say I have 4 or somethinglike that then what I can do is I candonate all of the money from thepositive vertex to the other 2 verticesbut because of the way that they'reconnected I can always balance itbetween the two of them so that it worksand so the thing that was true for thetwo vertex example is also true for this3 vertex example but let's try adifferent arrangement of three verticesit turns out that it's possible in thisarrangement to have enough money on theboard but never win the game and I'mgoing to show you a way that that canhappen so if I assign the number 0 here1 here and minus 1 here then let's thinkabout what's going to happen so I haveenough money on the board right the sumis 0 but if I donate from one of thepositive vertices it will immediatelyturn negative and that's true no matterhow many times I try and do it and so Ican never get rid of the fact that wehave some negative vertex in this grapheven though there's enough money on theboard because you always have to moveyeah that's right because there's toomuch connection right what's thedifference between these two graphs it'sthat I can't move sort of freely betweentwo chosen vertices I have to donate allor nothing in the second case and soit's not enough so this is a badconfigurationat game not winnable it's not enoughjust to have enough money on the boardfor all possible graphs and so then okaythe question is can I tell and it turnsout to be really complicated actually toanswer this question so I definitelyadvise that you sort of mess around withthis a little bit you can draw any kindof graph you want probably you want itto be connected because that makes thegame a little bit more interesting andassign some numbers respecting this ideathat okay you've got to have enoughmoney on the board right and see whatkind of things you end up with yeah youreally could I mean it depends on yourpatience level but next time you'rebored in at an airport which issomething I am very often it that'ssomething that you can do is play thisgame do you want to know the answerBrady yeah yeah okay so the full answeris actually really complicated but letme tell you a partial answer I can atleast tell you that a game is definitelywinnable in certain cases so there's aspecial number you can assign to a graphcall this genus so the genus of a graphthe number of edges of the graph minusthe number of vertices of the graph plusone okay very simple to count so let'scheck what the genus is in each of thesecases so in this case the genus is let'ssee we've got one edge and we've got twovertices and we add 1 so the genus iszero in this case we've got two edgesthree vertices and we add one and againwe get zero in this case we've got threeedges three vertices plus 1 so the genusis one and so this is giving me a way todetect this notion that I mentionedearlier it being it's a little tooconnected right it's too complicated totry and move money around the graph andthis number which is the genus gives youan idea of how much complication thereis and so it turns out that you can showthat a graph must be winnable there issome way to win this gameif the amount of money you have is atleast as large as the genus of the graphthat's your surplus that's your surplusso here we knew that the game waswinnable exactly when we have zero ormore dollars on the boardwe know the game is winnable by what Ijust said if the number of dollars onthe board is larger than the genus whichis zero and same here right because thegraph has genus 0 as long as there's atleast a zero dollars on the board we canwin the game yeah that's right but Icould have had a three here and it wouldhave worked out right and then here inthis bad game example it didn't work tojust have zero dollars on the board buthere's the reason why which is that thegenus is one and so in order to win thegame you've got to have at least onedollar on the boardnow the thing that's kind of funny isthat it's actually not an absolutecharacterization of when you can win thegame sometimes you might have less moneythan you think you need but you canstill win the game and actually tryingto figure out exactly some nicecharacterization of when you can win thegame is pretty complicated but even toshow even to prove that this is truethat if you have as much money as thegenus of the graph you can win requiressome really advanced graph theory and soI would be really interested to see Idon't think I've given you homeworkbefore I would be really interested tosee a much more straightforward argumentthat this is true that that having thismuch money guarantees you a winning setof moves to win the game what was thegenius of our first game and how muchmoney was on the oh that's a goodquestion let's figure it out so let'ssee we've got one two three four fiveedges we've got five vertices and we add1 so the genus and this was one also andwhat did we start with we started withsix minus three we started with threedollars on the board so we really sortof rigged the game for ourselves weshould have been able to do betterprobably say you could have taken twodollars off the board and we still wouldhave been able to still with it which isweird if you go back and look at this itlooks a little difficult doesn't it yeahbut so that's the guarantees as long asyou draw yourself solitaire graph whichhas this property there's always a wayto wineven if it takes you a long time to findit I think that is the most interestingthing is that winnable but I also thinkit's incredibly interesting on what theminimal number of moves is yeah so eveni mentioned that is it winnable iscomplicated to prove I don't think thatwe have a proof or a completecharacterization of what the optimalstrategy is for thegame if you like puzzles and games likethe one you've just seen why don't youcheck out today's show sponsor brilliantthis is a website full of quizzes andcourses loads of elegantly designedcontent this is stuff that's not onlyfun to do but it's specially designed tosort of change the way you think get youthinking outside the boxnow there's loads of mathematicalcontent but I think you might also likethis one I'm quite excited by itartificial neural networks really getyour brain around how all thisartificial intelligence stuffs workingthere's loads of free content onbrilliant but you can get 20% off theirpremium subscription which opens thedoor to everything by going to brilliantorg slash numberphile there's the URL onthe screenour thanks to brilliant for supportingthis episode